(()=>{"use strict";var e={859:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(252)),a=(n(r(577)),r(330)),o=r(110),d=r(732),u=n(r(787)),s=(0,i.default)();s.use(i.default.json()),(0,d.RegisterRoutes)(s),s.use(((e,t,r,n)=>(console.warn(e),e instanceof o.ApiError?r.status(e.status||400).json({message:e.message,status:e.status||400}):r.status(400).json({error:{message:e.message,name:e.name}}))));const p={info:{title:"oppgave 2 - Hovedoppgaven",description:a.description,version:a.version},swaggerUiOptions:{customfavIcon:"https://www.forbrukerradet.no/wp-content/themes/frweb22/img/icons/favicon.ico",customCss:".swagger-ui .topbar { background-color: #fff } .swagger-ui .topbar img { content: url('https://www.forbrukerradet.no/wp-content/themes/frweb22/dist/forbrukerradet_logo_symbol.svg') }",customSiteTitle:"test-fagprøve API"},baseDir:"src",filesPattern:"**/*.ts",swaggerUIPath:"/swagger"};(0,u.default)(s)(p),s.use(((e,t)=>t.status(404).json({status:404,message:`Culd not find ${e.path}`}))),t.default=s},585:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var d=e.length-1;d>=0;d--)(i=e[d])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function d(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,d)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CompaniesController=void 0;const o=r(445),d=r(653),u=r(110);let s=class extends o.Controller{getCompanies(){return a(this,arguments,void 0,(function*(e=!1){const t={};return e||(t.deletedAt={equals:null},t.active={equals:!0}),yield d.db.company.findMany({where:t})}))}getById(e){return a(this,void 0,void 0,(function*(){const t=yield d.db.company.findFirst({where:{id:e}});if(!t)throw new u.ApiError("No company with provided id was found",404);return t}))}newCompany(e){return a(this,void 0,void 0,(function*(){if(yield d.db.company.findFirst({where:{number:e.number}}))throw new u.ApiError("Company with provided org number already exists",400);const t=yield d.db.company.create({data:e});if(t.id)return{status:200,message:"Company succesfuly created",data:t};throw new u.ApiError("Failed to delete company",400)}))}deleteCompany(e){return a(this,void 0,void 0,(function*(){if((yield d.db.company.update({where:{id:e},data:{deletedAt:new Date}})).id)return{status:200,message:"Company succesfuly deleted"};throw new u.ApiError("Failed to delete company",400)}))}};t.CompaniesController=s,n([(0,o.Get)(),i(0,(0,o.Query)())],s.prototype,"getCompanies",null),n([(0,o.Get)("{id}"),i(0,(0,o.Path)())],s.prototype,"getById",null),n([(0,o.Put)(),i(0,(0,o.Body)())],s.prototype,"newCompany",null),n([(0,o.Delete)("{id}"),i(0,(0,o.Path)())],s.prototype,"deleteCompany",null),t.CompaniesController=s=n([(0,o.Route)("companies")],s)},884:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var d=e.length-1;d>=0;d--)(i=e[d])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.PingControler=void 0;const i=r(445);let a=class extends i.Controller{get(){return{ping:"pong"}}};t.PingControler=a,n([(0,i.Get)()],a.prototype,"get",null),t.PingControler=a=n([(0,i.Route)("ping")],a)},909:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var d=e.length-1;d>=0;d--)(i=e[d])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function d(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,d)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.productController=void 0;const o=r(445),d=r(653),u=r(110),s=r(810);let p=class extends o.Controller{getProducts(){return a(this,arguments,void 0,(function*(e=!1){const t={},r={};return e||(r.deletedAt={equals:null},t.publishedAt={lte:new Date},t.publishingStatus={equals:"Published"}),(yield d.db.product.findMany({where:r,include:{productVersions:{where:t.publishedAt?t:void 0,orderBy:{createdAt:"desc"},take:1}}})).reduce(((e,t)=>t.productVersions.length?[...e,(0,s.productMapper)(t)]:e),[])}))}getById(e){return a(this,void 0,void 0,(function*(){const t=yield d.db.product.findFirst({where:{id:e},include:{productVersions:!0}});if(!t)throw new u.ApiError("No products with provided id was found",404);return t}))}newProduct(e){return a(this,void 0,void 0,(function*(){const t=yield d.db.product.create(Object.assign({},(0,s.newProductMapper)(e)));if(t.id)return{status:200,message:"Company successfully created",data:t};throw new u.ApiError("Failed to delete company",400)}))}deleteCompany(e){return a(this,void 0,void 0,(function*(){if((yield d.db.product.update({where:{id:e},data:{deletedAt:new Date}})).id)return{status:200,message:"Company succesfuly deleted"};throw new u.ApiError("Failed to delete company",400)}))}};t.productController=p,n([(0,o.Get)(),i(0,(0,o.Query)())],p.prototype,"getProducts",null),n([(0,o.Get)("{id}"),i(0,(0,o.Path)())],p.prototype,"getById",null),n([(0,o.Put)(),i(0,(0,o.Body)())],p.prototype,"newProduct",null),n([(0,o.Delete)("{id}"),i(0,(0,o.Path)())],p.prototype,"deleteCompany",null),t.productController=p=n([(0,o.Route)("products")],p)},746:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e,t=400){super(e),this.name="ApiError",this.status=t}}t.default=r},110:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ApiError=void 0;const i=n(r(746));t.ApiError=i.default},653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.db=void 0;const n=new(r(949).PrismaClient);t.db=n},732:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function d(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,d)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterRoutes=void 0;const i=r(978),a=r(909),o=r(884),d=r(585),u=new i.ExpressTemplateService({ProductType:{dataType:"refAlias",type:{dataType:"union",subSchemas:[{dataType:"enum",enums:["Spot"]},{dataType:"enum",enums:["HourlySpot"]},{dataType:"enum",enums:["Fixed"]},{dataType:"enum",enums:["Variabl"]},{dataType:"enum",enums:["Purchase"]},{dataType:"enum",enums:["Plus"]},{dataType:"enum",enums:["Other"]}],validators:{}}},PublishingStatus:{dataType:"refAlias",type:{dataType:"union",subSchemas:[{dataType:"enum",enums:["Approved"]},{dataType:"enum",enums:["Published"]},{dataType:"enum",enums:["Rejected"]},{dataType:"enum",enums:["Draft"]},{dataType:"enum",enums:["Pending"]}],validators:{}}},PricingType:{dataType:"refAlias",type:{dataType:"union",subSchemas:[{dataType:"enum",enums:["Spot"]},{dataType:"enum",enums:["Kilowatt"]},{dataType:"enum",enums:["Arrears"]},{dataType:"enum",enums:["OnRequest"]}],validators:{}}},AlertChannel:{dataType:"refAlias",type:{dataType:"union",subSchemas:[{dataType:"enum",enums:["Email"]},{dataType:"enum",enums:["Sms"]},{dataType:"enum",enums:["PostalLetter"]},{dataType:"enum",enums:["Website"]},{dataType:"enum",enums:["MyPage"]},{dataType:"enum",enums:["Phone"]}],validators:{}}},CustomerType:{dataType:"refAlias",type:{dataType:"union",subSchemas:[{dataType:"enum",enums:["Everyone"]},{dataType:"enum",enums:["New"]},{dataType:"enum",enums:["Existing"]},{dataType:"enum",enums:["ExistingWithMembership"]},{dataType:"enum",enums:["NewWithMembership"]},{dataType:"enum",enums:["WithMembership"]},{dataType:"enum",enums:["ExistingAndNew"]},{dataType:"enum",enums:["ExistingAndNewWithMembership"]}],validators:{}}},TimeUnit:{dataType:"refAlias",type:{dataType:"union",subSchemas:[{dataType:"enum",enums:["Day"]},{dataType:"enum",enums:["Month"]},{dataType:"enum",enums:["Year"]}],validators:{}}},FeeMandatoryType:{dataType:"refAlias",type:{dataType:"union",subSchemas:[{dataType:"enum",enums:["None"]},{dataType:"enum",enums:["ElectronicInvoice"]},{dataType:"enum",enums:["DirectDebit"]},{dataType:"enum",enums:["Both"]}],validators:{}}},conditions:{dataType:"refObject",properties:{applicableToCustomerType:{ref:"CustomerType",required:!0},agreementTime:{dataType:"double",required:!0},agreementTimeUnit:{ref:"TimeUnit",required:!0},maxKwhPerYear:{dataType:"union",subSchemas:[{dataType:"double"},{dataType:"enum",enums:[null]}],required:!0},cabinProduct:{dataType:"boolean",required:!0},otherConditions:{dataType:"string",required:!0},feeMandatoryType:{ref:"FeeMandatoryType",required:!0}},additionalProperties:!1},BillingType:{dataType:"refAlias",type:{dataType:"union",subSchemas:[{dataType:"enum",enums:["Before"]},{dataType:"enum",enums:["After"]},{dataType:"enum",enums:["Period"]}],validators:{}}},billing:{dataType:"refObject",properties:{billingType:{ref:"BillingType",required:!0},frequency:{dataType:"double",required:!0},unit:{ref:"TimeUnit",required:!0}},additionalProperties:!1},fee:{dataType:"refObject",properties:{monthlyFee:{dataType:"double",required:!0},postalLetterFee:{dataType:"double",required:!0},contractBreachFee:{dataType:"double",required:!0}},additionalProperties:!1},currentPrice:{dataType:"refObject",properties:{addonPrice:{dataType:"double",required:!0},purchaseKwPrice:{dataType:"double",required:!0},elCertificatePrice:{dataType:"double",required:!0}},additionalProperties:!1},addonPrice:{dataType:"refObject",properties:{minimumFixedFor:{dataType:"double",required:!0},minimumFixedForUnit:{ref:"TimeUnit",required:!0},purchaseAddonPrice:{dataType:"double",required:!0}},additionalProperties:!1},ProductOutput:{dataType:"refObject",properties:{name:{dataType:"string",required:!0},productType:{ref:"ProductType",required:!0},orderUrl:{dataType:"union",subSchemas:[{dataType:"string"},{dataType:"enum",enums:[null]}],required:!0},organizationId:{dataType:"double",required:!0},publishingStatus:{ref:"PublishingStatus",required:!0},publishedAt:{dataType:"union",subSchemas:[{dataType:"datetime"},{dataType:"enum",enums:[null]}],required:!0},priceType:{ref:"PricingType",required:!0},purchasePriceType:{ref:"PricingType",required:!0},alertChannel:{ref:"AlertChannel",required:!0},conditions:{ref:"conditions",required:!0},billing:{ref:"billing",required:!0},fee:{ref:"fee",required:!0},currentPrice:{ref:"currentPrice",required:!0},addonPrice:{ref:"addonPrice",required:!0}},additionalProperties:!1},Product:{dataType:"refObject",properties:{id:{dataType:"double",required:!0},createdAt:{dataType:"datetime",required:!0},name:{dataType:"string",required:!0},deletedAt:{dataType:"union",subSchemas:[{dataType:"datetime"},{dataType:"enum",enums:[null]}],required:!0},productVersions:{dataType:"array",array:{dataType:"refObject",ref:"ProductVersion"},required:!0},company:{ref:"Company"}},additionalProperties:!1},ProductVersion:{dataType:"refObject",properties:{id:{dataType:"double",required:!0},productId:{dataType:"double",required:!0},product:{ref:"Product"},createdAt:{dataType:"datetime",required:!0},agreementTime:{dataType:"double",required:!0},agreementTimeUnit:{ref:"TimeUnit",required:!0},billingFrequency:{dataType:"double",required:!0},billingFrequencyUnit:{ref:"TimeUnit",required:!0},addonPriceMinimumFixedFor:{dataType:"double",required:!0},addonPriceMinimumFixedForUnit:{ref:"TimeUnit",required:!0},productType:{ref:"ProductType",required:!0},billingType:{ref:"BillingType",required:!0},monthlyFee:{dataType:"double",required:!0},addonPrice:{dataType:"double",required:!0},elCertificatePrice:{dataType:"double",required:!0},maxKwhPerYear:{dataType:"double",required:!0},feeMandatoryType:{ref:"FeeMandatoryType",required:!0},feePostalLetter:{dataType:"double",required:!0},feeContractBreach:{dataType:"double",required:!0},otherConditions:{dataType:"string",required:!0},orderUrl:{dataType:"string",required:!0},applicableToCustomerType:{ref:"CustomerType",required:!0},alertChannel:{ref:"AlertChannel",required:!0},cabinProduct:{dataType:"boolean",required:!0},pricingType:{ref:"PricingType",required:!0},publishingStatus:{ref:"PublishingStatus",required:!0},publishedAt:{dataType:"datetime",required:!0},priceChangedAt:{dataType:"datetime",required:!0},purchasePricingType:{ref:"PricingType",required:!0},purchaseAddonPrice:{dataType:"double",required:!0}},additionalProperties:!1},Company:{dataType:"refObject",properties:{id:{dataType:"double",required:!0},name:{dataType:"string",required:!0},number:{dataType:"double",required:!0},active:{dataType:"boolean",required:!0},createdAt:{dataType:"datetime",required:!0},deletedAt:{dataType:"union",subSchemas:[{dataType:"datetime"},{dataType:"enum",enums:[null]}],required:!0}},additionalProperties:!1},Response:{dataType:"refObject",properties:{status:{dataType:"double",required:!0},message:{dataType:"string"},data:{dataType:"any"}},additionalProperties:!1},NewProductBody:{dataType:"refObject",properties:{name:{dataType:"string",required:!0},agreementTime:{dataType:"double",required:!0},agreementTimeUnit:{ref:"TimeUnit",required:!0},billingFrequency:{dataType:"double",required:!0},billingFrequencyUnit:{ref:"TimeUnit",required:!0},addonPriceMinimumFixedFor:{dataType:"double",required:!0},addonPriceMinimumFixedForUnit:{ref:"TimeUnit",required:!0},productType:{ref:"ProductType",required:!0},billingType:{ref:"BillingType",required:!0},monthlyFee:{dataType:"double",required:!0},addonPrice:{dataType:"double",required:!0},elCertificatePrice:{dataType:"double",required:!0},maxKwhPerYear:{dataType:"double",required:!0},feeMandatoryType:{ref:"FeeMandatoryType",required:!0},feePostalLetter:{dataType:"double",required:!0},feeContractBreach:{dataType:"double",required:!0},otherConditions:{dataType:"string",required:!0},orderUrl:{dataType:"string",required:!0},applicableToCustomerType:{ref:"CustomerType",required:!0},alertChannel:{ref:"AlertChannel",required:!0},cabinProduct:{dataType:"boolean",required:!0},pricingType:{ref:"PricingType",required:!0},publishingStatus:{ref:"PublishingStatus",required:!0},publishedAt:{dataType:"datetime",required:!0},priceChangedAt:{dataType:"datetime",required:!0},purchasePricingType:{ref:"PricingType",required:!0},purchaseAddonPrice:{dataType:"double",required:!0},companyId:{dataType:"double",required:!0}},additionalProperties:!1},newCompanyBody:{dataType:"refObject",properties:{name:{dataType:"string",required:!0},number:{dataType:"double",required:!0},active:{dataType:"boolean",required:!0}},additionalProperties:!1}},{noImplicitAdditionalProperties:"throw-on-extras",bodyCoercion:!0});t.RegisterRoutes=function(e){e.get("/products",...(0,i.fetchMiddlewares)(a.productController),...(0,i.fetchMiddlewares)(a.productController.prototype.getProducts),(function(e,t,r){return n(this,void 0,void 0,(function*(){const n={includeInactive:{default:!1,in:"query",name:"includeInactive",dataType:"boolean"}};let i=[];try{i=u.getValidatedArgs({args:n,request:e,response:t});const o=new a.productController;yield u.apiHandler({methodName:"getProducts",controller:o,response:t,next:r,validatedArgs:i,successStatus:void 0})}catch(e){return r(e)}}))})),e.get("/products/:id",...(0,i.fetchMiddlewares)(a.productController),...(0,i.fetchMiddlewares)(a.productController.prototype.getById),(function(e,t,r){return n(this,void 0,void 0,(function*(){const n={id:{in:"path",name:"id",required:!0,dataType:"double"}};let i=[];try{i=u.getValidatedArgs({args:n,request:e,response:t});const o=new a.productController;yield u.apiHandler({methodName:"getById",controller:o,response:t,next:r,validatedArgs:i,successStatus:void 0})}catch(e){return r(e)}}))})),e.put("/products",...(0,i.fetchMiddlewares)(a.productController),...(0,i.fetchMiddlewares)(a.productController.prototype.newProduct),(function(e,t,r){return n(this,void 0,void 0,(function*(){const n={body:{in:"body",name:"body",required:!0,ref:"NewProductBody"}};let i=[];try{i=u.getValidatedArgs({args:n,request:e,response:t});const o=new a.productController;yield u.apiHandler({methodName:"newProduct",controller:o,response:t,next:r,validatedArgs:i,successStatus:void 0})}catch(e){return r(e)}}))})),e.delete("/products/:id",...(0,i.fetchMiddlewares)(a.productController),...(0,i.fetchMiddlewares)(a.productController.prototype.deleteCompany),(function(e,t,r){return n(this,void 0,void 0,(function*(){const n={id:{in:"path",name:"id",required:!0,dataType:"double"}};let i=[];try{i=u.getValidatedArgs({args:n,request:e,response:t});const o=new a.productController;yield u.apiHandler({methodName:"deleteCompany",controller:o,response:t,next:r,validatedArgs:i,successStatus:void 0})}catch(e){return r(e)}}))})),e.get("/ping",...(0,i.fetchMiddlewares)(o.PingControler),...(0,i.fetchMiddlewares)(o.PingControler.prototype.get),(function(e,t,r){return n(this,void 0,void 0,(function*(){const n={};let i=[];try{i=u.getValidatedArgs({args:n,request:e,response:t});const a=new o.PingControler;yield u.apiHandler({methodName:"get",controller:a,response:t,next:r,validatedArgs:i,successStatus:void 0})}catch(e){return r(e)}}))})),e.get("/companies",...(0,i.fetchMiddlewares)(d.CompaniesController),...(0,i.fetchMiddlewares)(d.CompaniesController.prototype.getCompanies),(function(e,t,r){return n(this,void 0,void 0,(function*(){const n={includeInactive:{default:!1,in:"query",name:"includeInactive",dataType:"boolean"}};let i=[];try{i=u.getValidatedArgs({args:n,request:e,response:t});const a=new d.CompaniesController;yield u.apiHandler({methodName:"getCompanies",controller:a,response:t,next:r,validatedArgs:i,successStatus:void 0})}catch(e){return r(e)}}))})),e.get("/companies/:id",...(0,i.fetchMiddlewares)(d.CompaniesController),...(0,i.fetchMiddlewares)(d.CompaniesController.prototype.getById),(function(e,t,r){return n(this,void 0,void 0,(function*(){const n={id:{in:"path",name:"id",required:!0,dataType:"double"}};let i=[];try{i=u.getValidatedArgs({args:n,request:e,response:t});const a=new d.CompaniesController;yield u.apiHandler({methodName:"getById",controller:a,response:t,next:r,validatedArgs:i,successStatus:void 0})}catch(e){return r(e)}}))})),e.put("/companies",...(0,i.fetchMiddlewares)(d.CompaniesController),...(0,i.fetchMiddlewares)(d.CompaniesController.prototype.newCompany),(function(e,t,r){return n(this,void 0,void 0,(function*(){const n={body:{in:"body",name:"body",required:!0,ref:"newCompanyBody"}};let i=[];try{i=u.getValidatedArgs({args:n,request:e,response:t});const a=new d.CompaniesController;yield u.apiHandler({methodName:"newCompany",controller:a,response:t,next:r,validatedArgs:i,successStatus:void 0})}catch(e){return r(e)}}))})),e.delete("/companies/:id",...(0,i.fetchMiddlewares)(d.CompaniesController),...(0,i.fetchMiddlewares)(d.CompaniesController.prototype.deleteCompany),(function(e,t,r){return n(this,void 0,void 0,(function*(){const n={id:{in:"path",name:"id",required:!0,dataType:"double"}};let i=[];try{i=u.getValidatedArgs({args:n,request:e,response:t});const a=new d.CompaniesController;yield u.apiHandler({methodName:"deleteCompany",controller:a,response:t,next:r,validatedArgs:i,successStatus:void 0})}catch(e){return r(e)}}))}))}},431:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(859)),a=process.env.APP_PORT||3001;i.default.listen(a,(()=>{console.log(`App is running on http://localhost:${a}`)}))},810:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.newProductMapper=t.productMapper=void 0,t.productMapper=e=>{var t,r;const n=e.productVersions[0];return n?{name:e.name,productType:n.productType,orderUrl:n.orderUrl,organizationId:(null===(t=e.company)||void 0===t?void 0:t.number)||NaN,publishingStatus:n.publishingStatus,publishedAt:n.publishedAt,priceType:n.pricingType,purchasePriceType:n.purchasePricingType,alertChannel:n.alertChannel,conditions:{applicableToCustomerType:n.applicableToCustomerType,agreementTime:n.agreementTime,agreementTimeUnit:n.agreementTimeUnit,maxKwhPerYear:n.maxKwhPerYear,cabinProduct:n.cabinProduct,otherConditions:n.otherConditions,feeMandatoryType:n.feeMandatoryType},billing:{billingType:n.billingType,frequency:n.billingFrequency,unit:n.billingFrequencyUnit},fee:{monthlyFee:n.monthlyFee,postalLetterFee:n.feePostalLetter,contractBreachFee:n.feeContractBreach},currentPrice:{addonPrice:n.addonPrice,purchaseKwPrice:n.purchaseAddonPrice,elCertificatePrice:n.elCertificatePrice},addonPrice:{minimumFixedFor:n.addonPriceMinimumFixedFor,minimumFixedForUnit:n.addonPriceMinimumFixedForUnit,purchaseAddonPrice:n.purchaseAddonPrice}}:{name:e.name,organizationId:(null===(r=e.company)||void 0===r?void 0:r.number)||NaN}},t.newProductMapper=e=>{const t={createMany:{data:[{id:0,createdAt:new Date,agreementTime:e.agreementTime,agreementTimeUnit:e.agreementTimeUnit,billingFrequency:e.billingFrequency,billingFrequencyUnit:e.billingFrequencyUnit,addonPriceMinimumFixedFor:e.addonPriceMinimumFixedFor,addonPriceMinimumFixedForUnit:e.addonPriceMinimumFixedForUnit,productType:e.productType,billingType:e.billingType,monthlyFee:e.monthlyFee,addonPrice:e.addonPrice,elCertificatePrice:e.elCertificatePrice,maxKwhPerYear:e.maxKwhPerYear,feeMandatoryType:e.feeMandatoryType,feePostalLetter:e.feePostalLetter,feeContractBreach:e.feeContractBreach,otherConditions:e.otherConditions,orderUrl:e.orderUrl,applicableToCustomerType:e.applicableToCustomerType,alertChannel:e.alertChannel,cabinProduct:e.cabinProduct,pricingType:e.pricingType,publishingStatus:e.publishingStatus,publishedAt:e.publishedAt,priceChangedAt:e.priceChangedAt,purchasePricingType:e.purchasePricingType,purchaseAddonPrice:e.purchaseAddonPrice}],skipDuplicates:!1}};return{data:{name:e.name,createdAt:new Date,deletedAt:null,productVersions:t,companyId:e.companyId},include:{productVersions:!0}}}},949:e=>{e.exports=require("@prisma/client")},978:e=>{e.exports=require("@tsoa/runtime")},577:e=>{e.exports=require("cors")},252:e=>{e.exports=require("express")},787:e=>{e.exports=require("express-jsdoc-swagger")},445:e=>{e.exports=require("tsoa")},330:e=>{e.exports=JSON.parse('{"name":"test-fagprove","version":"1.0.0","description":"løsning på testfagpøve oppgave 2 - Hovedoppgaven","main":"src/app.ts","scripts":{"start":"concurrently \\"nodemon\\" \\"nodemon -x tsoa routes\\"","build":"tsoa routes && webpack --mode production","test":"echo \\"Error: no test specified\\" && exit 1","db-update":"prisma db push && prisma db seed"},"author":"KevenG","license":"MIT","dependencies":{"@prisma/client":"^5.13.0","concurrently":"^8.2.2","cors":"^2.8.5","dotenv":"^16.4.5","express":"^4.19.2","prettier":"^3.2.5"},"devDependencies":{"@types/cors":"^2.8.17","@types/express":"^4.17.21","@types/node":"^20.12.8","express-jsdoc-swagger":"^1.8.0","@types/swagger-ui-express":"^4.1.3","prisma":"^5.13.0","ts-loader":"^9.5.0","ts-node":"^10.9.2","tsoa":"^6.2.1","typescript":"^5.4.5","webpack":"^5.91.0","webpack-cli":"^5.1.4","webpack-node-externals":"^3.0.0"},"prisma":{"seed":"ts-node ./prisma/seeds.ts"}}')}},t={};!function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}(431)})();